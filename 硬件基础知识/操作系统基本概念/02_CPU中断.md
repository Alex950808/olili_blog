---
title: 02_CPU中断
tags: 
---

CPU在执行完当前正在执行的指令之后，检测到从CPU外部发送过来的或者内部产生的一种特殊的信息，并且可以立即对所接受到的信息进行处理，这样的信息，我们就称为中断信息。

按照中断信息的来源可以分为软中断和硬中断

软中断是在CPU执行过程中产生的，如应用程序异常（如除以0），执行int指令等，软中断主要用于通知CPU终止当前指令序列的执行，比如用户通过系统调用读取文件时需要先发送中断指令，CPU接受中断指令后会保存当前进程的上下文，然后给硬件发送读取文件的指令，然后CPU执行其他的进程；再比如当前进程的CPU时间分片用完了，就会由定时间触发一个软中断通知CPU终止对当前进程的处理，由调度器选择其他的进程执行。

硬中断指的由CPU的外部设备如键盘，网卡，鼠标等产生的，硬中断主要用于通知CPU硬件的任务已经执行完了，比如磁盘读取文件，文件读取到内存以后就会发送中断指令给CPU，CPU接受该指令后调用之前注册的中断处理程序将读取文件的内存地址告诉最初的调用方。硬中断主要是为了解决硬件执行任务远远慢于CPU，通过硬中断这种通知方式将CPU和硬件独立开。

CPU中断绝大部分时候会引发进程的上下文切换，即需要保存当前进程的执行环境，然后载入下一个即将运行的进程的执行环境，其性能开销较大，因此可以通过中断率或者上下文切换次数优化应用程序，提升应用性能。

中断是指一种重要的外设与CPU数据交换的方式，因为需要进行断点和现场的保护和恢复，浪费了很多CPU的时间，适合少量数据的传送。

本文限于个人理解能力,只是一个简单介绍,更多内容可以参考

[rv0p111的 CPU的内部的中断](https://blog.csdn.net/ZCMUCZX/article/details/80321236)

[zhunxun的 详解操作系统中断](https://www.cnblogs.com/ck1020/p/6024330.html)

[天才之上的 性能分析_linux服务器CPU_中断](https://blog.csdn.net/weixin_36795183/article/details/77930046)