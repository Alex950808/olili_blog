---
title: Filecoin经济
tags: 小书匠语法
renderNumberedHeading: true
grammar_abbr: true
grammar_table: true
grammar_defList: true
grammar_emoji: true
grammar_footnote: true
grammar_ins: true
grammar_mark: true
grammar_sub: true
grammar_sup: true
grammar_checkbox: true
grammar_mathjax: true
grammar_flow: true
grammar_sequence: true
grammar_plot: true
grammar_code: true
grammar_highlight: true
grammar_html: true
grammar_linkify: true
grammar_typographer: true
grammar_video: true
grammar_audio: true
grammar_attachment: true
grammar_mermaid: true
grammar_classy: true
grammar_cjkEmphasis: true
grammar_cjkRuby: true
grammar_center: true
grammar_align: true
grammar_tableExtra: true
---

[toc]

#### Filecoin代币参数

[资料来源](https://ipfs.io/ipfs/Qmdsip9Kcoyj3J3Fyvjw3wjPCuewkZiGVWpN8rYF3dJKqg/vesting.html)

- Filecoin代币总数20亿枚
- 公募私募ICO是按照IPO方式来进行的,比例是 10% （2亿枚）参与资格:美国合格投资人身份认证
- ICO募资总金额 2.57亿美元
- 存储矿工和检索矿工可得总量 70%, 这部分的85%是存储矿工挖出,剩下15%即3亿枚是挖矿储备金用来激励未来的检索矿工和其他类型的矿工,故存储矿工可以挖出 59.5%的代币
- 协议实验室保留 15% 协议工作室的钱包账户是 `f0117-f0120`,`f022572-f022671`
- Filecoin资金会 5% Filecoin基金会钱包账户 `f0121`

公募私募和官方保留的Token分发都是线性释放

- 开始时间：Filecoin网络上线开始算时间，例如：6个月分发期(vesting period)，网络上线后6个月内发放完毕
- ICO部分 : 1年最低分发期（私募），6个月最低分发期（公募）
- 协议实验室：6年，线性释放
- Filecoin基金会：6年，线性释放
- 矿工：6年减半

#### Filecoin代币的分发策略

Token分发策略

1. Filecoin团队把70%的Token给了矿工，这在爱西欧里面是非常有诚意的表现，也是为什么现在如此多的矿工关注的原因。

2. 矿工部分的Token设计6年分发大约一半的币（比特币是4年），为什么是6年？协议实验室认为6年无论是对Filecoin网络增长还是对投资者长期回报都是一个恰当的时间周期。

3. 总的分发规划大约4年分发总量一半的代币（10亿枚），其中包括：矿工挖矿、投资者解禁（爱西欧）、协议实验室和基金会的解禁额度.

4. Filecoin的分发采用的是线性分发，即随着每个区块（block）被矿工开采，逐步分发Token。例如：分发期2年的Token，网络启动后的6个月分发25%，1年分发50%，2年分发100%

影响Filecoin流通量的因素

- 挖矿：随着每个区块被挖出，释放出来的Token
- 解禁：跟IPO一样，按照合同随着时间解禁的Token
- 抵押：矿工为了挖矿进行抵押的Token
- 锁定：在检索市场和存储市场随着交易被锁的Token
- 智能合约：被智能合约锁定的Token
- 丢失：由于丢失密钥而被锁定的Token






#### FIP

		Lotus 0.8.0 实装 FIP-0002 epoch 94000 减少对错过windowPoSt的诚实矿工的处罚
		Lotus 1.1.0 实装 FIP-0004 epoch 170000 出块奖励的25%直接到账不需要锁定 剩下的还是180天线性释放










#### 产币的说明


* 简单产币 : 6年减半的那种.这部分占每天释放币的30%.
		* 基准产币 : 总网络达到某一个算力基准时, 才释放币.这个基准一开始为1EB(相当于1000PB),然后每年增加200%,之后5年分别是 : 3EB,9EB, 27EB, 81EB,243EB...全网算力一旦到了这个基准线,就继续释放剩余的奖励币, 这部分占70%

		1. 第一阶段 : 收入以“简单产币”为主,因为全网还没到1EB, 所以30%的币是一挖就有,另外70%得到了基准线后才有.
		2. 第二阶段 : 到了网络基准线了, 这时候整个网络容量很大,可以存很多有用的数据, 我们也能挖到那额外的70%的“基准产币”了,除此之外还会有一部分的存储订单交易收入.
		3. 第三阶段 : 挖币的人越来越多, 区块奖励越来越少,“简单产币”基本上没了, 这就和比特币一样,那么主要收入来源于提供高质量存储和检索服务和交易手续费了








Filecoin每6年减半并不意味着到第六年才开始递减，而是每一个区块释放的奖励代币都在递减。下面这个是Filecoin区块奖励释放的公式。
		
		
		http://ipfs-file.oss-cn-shenzhen.aliyuncs.com/0/2020-03/09135328337-5161abae-88d7-4064-9f8c-34193fb3634a.jpg
		
		我们可以看到，第一个区块奖励是153.68654133573枚FIL，第二个区块奖励的是153.686524445924枚FIL，每个区块递减为0.00001689枚FIL。到第七年的第一个区块奖励为76.843270667866枚FIL，与第一个区块的数量刚好完成减半。
		
		http://ipfs-file.oss-cn-shenzhen.aliyuncs.com/0/2020-03/09135328369-a4d55f97-e271-4b25-b752-0c09b8f143eb.jpg
		
		按这个公式计算，主网上线后第一天产币量约为44万枚FIL，最后一天产币量约为39万枚FIL，第一年区块奖励总释放量约为1.52亿枚FIL，第一年平均每天产币量约为41.6万枚FIL。

 

Filecoin的区块奖励总共是14亿枚，第一个六年释放7亿枚，第二个六年释放3.5亿枚，第三个六年释放1.75亿枚，预计到第七个六年也就是42年释放完99%的FIL。









#### 存储矿工挖矿相关 --- 在 Filecoin 上进行真实的数据存储

已验证用户可以要求竞标矿工存储其数据的多个版本。网络会额外补贴那些为相关数据提供来多份备份的可靠存储的存储者。

存储用户生命周期
- 获取代币
- 选择性成为已验证用户
- 挑选矿工，并发出特定请求
- 达成一致后与矿工交易
- 链为用户验证矿工存储并支付
- 从矿工去获取文件

**Filecoin 基线铸造的重要性**

Filecon 上的存储需求和供给匹配时，交易订单达成。

在交易前期，客户和矿工都要质押承诺在链上，质押后才能进行订单交易。客户和矿工之间的交易，在订单上链时就被锁定，付款是每个支付周期分批发给矿工。如果矿工在订单完成前终止链存储，那么就会惩罚矿工，将扇区终止费和交易质押都被销毁，剩余的交易付款退回给用户。

已验证用户是指存储了真实有效的数据，为网络作出贡献。

官方鼓励存储真实有效数据，如果矿工自我交易填补存储空间并获得区块奖励，不给予大量的补贴。

许多区块链基于简单的指数衰减模型铸造代币。在这种模式下，一开始区块奖励是最高的，而矿工的参与度通常是最低，因此，在网络生命周期早期进行挖矿就会产生许多币，之后迅速下降。

Filecoin 不能就使用简单的指数衰减模型，这会导致早期矿工为了抢夺代币过度投资硬件，获得区块奖励后迅速退出网络，这会导致用户数据丢失，无法提供长期的存储服务。

基准线是替代了时间的推移来铸造代币，而是随着网络上总存储算力的增加而提高区块奖励。这样既可以保留原始指数衰减模型的结构，又可以在网络启动的最初时段改善它。一旦网络达到基准线，则发出与简单的指数衰减模型相同的累积区块链，但是如果网络未达到预先建立的伐值，则会延迟一部分奖励。

简单来说铸造代币 30% 是使用了简单的指数衰减模型，70% 是使用基线铸造。



#### 矿工奖励





	5. 矿工的奖励 </br>
		- Storage fees 存储费用是在达成交易后,作为为客户存储好数据而定期获得被支付的费用,这些奖励会随着时间的推移会自动存入矿工的提款钱包,并在收到后短暂的锁定.
		- Block rewards 区块奖励是给矿工的,这是相当于网络增发出来的FIL币.通过 WInningPoSt来赢得出新块的权力,这个几率和矿工对网络贡献的存储量成正比.在FileCoin网络中,时间被离散成一系列的epoch,每一个epoch开始都有一些矿工被选举出来能挖矿,这些新块组合成了tipset,数量是基于λ= 5泊松分布的随机变量.矿工应该使用策略来决定需要在他们的块中包含什么信息来最大程度的减少重叠,因为每个消息只有第一次执行才会被收取费用.
		- 经过验证的客户,他们得到了一个特殊的存力乘数,即普通密封乘数为1,已经执行过update的为1.1,而经过验证的客户的数据乘数为10.
		- 检索费用

		矿工应在以下3方面努力来挖到更多币
		
		* 性能更高的复制证明算法 : 链上数据更少,验证时间更快,硬件成本更低,不同的安全性假设,从而使扇区生命周期更长,并且无需重新封装即可进行扇区升级.
		* 更具可扩展性的共识算法,可以提供更大的吞吐量并以更短的时间内处理更多的消 息.
		* 更多可以使扇区持续更长的时间的交易订单功能.

		![](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020831/1598861682918.png)
		







#### 质押详细说明


为了减轻矿工的负担至最低来满足对质押的多种需求,Filecoin有三种不同的质押机制
		* 存储质押 : 7天的扇区故障费和1个扇区故障检测费(和区块奖励大小挂钩)
		* 共识质押 : 为了实现30%的网络流通量都要被锁定在初始共识质押中. 所以需根据扇区加权字节算力(QAP), 在网络中所占的比例分配给该扇区一小部分质押份额, 初始质押应随时间的减少而减少
		* 区块奖励质押 : 挖到币后先锁仓20天,后180天线性释放.意思就是20天后就能每天平均地拿到挖到的币,180天拿完.因为矿工是一致在挖币的, 所以只需要等待第一个20天, 后面每天都会受到奖励.(update有调整 取消20天锁定)

		其中1+2目前是一个扇区1个FIL.只是极限值,未来只少不多.当然这只是 space race 时的测试值,主网正式上线的时候肯定时会调整的.否则中小矿工或新增矿工很难加入进来.



----------------

一旦扇区生成并将交易订单提交到区块链上，存储矿工就要开始在扇区上生成时空证明（PoSt）赢得区块奖励的机会并且赚钱存储费用。

矿工完成了承诺后的生命周期后才可以获得区块奖励并取回初始质押。

- 扇区故障费 每日扣除 最多14天,然后会被链上移除
- 扇区故障检测费 一次性扣除
- 扇区终止费 最多90天的已经赚取收益

Filecoin 有三种不同的质押机制：初始质押、区块奖励质押、存储交易质押。

初始质押由两个部分组成：存储质押和共识质押

7天的扇区故障费用和1个扇区故障检测费用作为初始存储质押,即执行 `PreCommitSector`执行的操作

共识质押，取决于该扇区加权字节算力（QAP）和网络流通供应量。当网络高于基准线，目标是约有30%的网络流通供应量锁定在共识质押。在基准线不断增长的情况下，每单位QAP初始质押随着时间的减少而减少。

共识质押的币在达到baseline的过程中不断成比例释放,这个是由Filecoin整个网络系统保证的.

区块奖励质押,也就是出块奖励质押,从一开始的锁定20天后180天释放 修改为 不锁180天释放 再通过 `FIP-0004` 修改为 25%立刻释放,剩下的180天线性释放.

存储提供者交易质押,即make deal部分执行的操作

协议要求一个最低质押以提供最低存储保证，如果交易订单提前终止，这部分质押将被惩罚。

矿工可以提供更高的交易质押，这代表这可以向用户提供更高水平的服务。

这一质押这扇区里的交易订单完成后会返还给存储提供则。





#### 消减参数的调整

- 扇区故障费 (FF) : 从原来的扇区预期收益 2.14天 调整为 3.51天.
- 扇区故障检测费 (SP-FF 即没有及时 declare fault的情况也算) 需要 5
- 扇区终止费 (TF) : 最多会扣除扇区已经获得收益,最多是90天的收益

如果sector最终的数据无法找回,最好是通过 `lotus-shed` 进行 `sector terminate` 否则每天都要进行 3.51天的预期收益的 FF消减,并且在14天之后还需要支付一次性的TF.

当前的区块收益大概是 0.2115 FIL/TiB,则可以计算出

- FF : 0.2115/32\*3.51=0.006609375\*3.51=0.023 FIL / sector ,也就是说每天都需要扣除0.023
- SP-FF : 同理 0.2115/32\*5=0.033 FIL / sector
- TF : 扇区中止跟扇区已经获得收益的天数有关

-----------------

1. 存储故障消减 storage fault slashing 
		 2. 共识故障消减 consensus fault slashing

		目前讨论的主要还是第一种 存储故障的消减,一般不会有共识故障的消减
		
		1. Fault fees(FF)(故障费用):sector离线的故障费用 区块3.51天的期望收益每天扣除
		2. Sector penalties(SP-FF)(故障检出费用):sector错误的链检出惩罚 你没有declare fault的话会被链上其他矿工出块举报检出,他有奖金你有罚金.
		3. Termination fees(区块中止费用):最终terminate的费用


		WindowPoSt每半小时为一个窗口，一天有48个窗口；同一窗口每天在相同时段都要做WindowPoSt，即周期性执行的任务。

		扇区分为三类，其一称为nonfaulty：从未故障的扇区；其二称为DeclareFault：矿工声明故障的扇区准备修复但尚未修复；其三称为Skipped扇区：网络检查出来的故障扇区且仍处于故障。

		分区的定义：一个分区有2349个扇区，扇区故障会影响整个分区的惩罚。
		
		不会产生费用：如果某一个窗口期内没有查到故障扇区，这个窗口期即使WindowPoSt未按时提交也不会产生任何罚款费用（前提是首次未按时提交）。
		产生费用：在某些分区存在故障扇区时，如果窗口期未提交成功WindowPoSt，这些故障扇区会产生扇区故障费。
		费用统计区间：在每个窗口期，从检测到故障扇区后的第一个deadline开始，将产生扇区故障费。
		
		对于每个通过时空证明的被恢复扇区：目前恢复矿工算力，但扣除扇区故障费罚款；建议恢复算力的同时不收取任何罚款。

对于每个声明为skipped的扇区：当前设计为删除矿工算力，同时网络将该扇区标记为有故障，扣除矿工的扇区故障检测费（SP）+扇区故障费（FF），该窗口期后开始计算扇区故障费；建议删除矿工算力并标记扇区故障，但不收取任何罚款，该窗口期后开始计算扇区故障费。

对于未提交时空证明的分区：当前版本对所有故障扇区进行扇区故障费的惩罚、惩罚分区中每个扇区的扇区故障检测费，并删除分区中所有扇区的算力；建议改为删除分区中所有扇区的算力、惩罚每个故障和正在恢复故障的扇区的扇区故障费，但不会对从未有过故障的扇区做故障费相关惩罚。

------------------

同时 FIP-0002对错过 windowPoSt的惩罚进行了减轻,初次错过不会有惩罚,即检出后的第一个deadline才会有故障费用.处理故障sector而不会针对整个partition.
		
		具体的变更如下:
		- DeclareFaultsRecovered 故障恢复后 SubmitWindowedPoSt 原来也需要支付故障费用,现在不需要了
		- 对申明为skipped跳过的活动区块,比如已经active活动的即需要proving的区块进行了removed.原来会扣除算力,标记故障后执行故障检出费用处罚.并会在proving的dealing时发生故障费用.现在的话会扣除算力,标记故障,但不会执行故障检出费用的处罚,当然故障费用还是会扣的
		- 在proving dealine即需要提交windowPoSt是对于没有提交的分区,即检测到有故障了,原来会对所有的故障sector做故障费用处罚,然后不管是错误扇区还是恢复中还是无错误的sector都会有故障检出费用(ps:因为你的确没有提交windowPoSt么),移除partition分区中所有扇区的算力,现在的话,对故障和恢复中的扇区做故障费用处罚,不会再做故障检出费用的处罚了,当然存力依然会被移除
		- 把故障费用,即声明了故障的周期,即每日扣除费用从原来的2.14天期望收益改为3.51天期望收益.为了具有更循序渐进的惩罚结构，官方评估了一个Markov Decision模型，此模型表达了矿工需要为存储合约提供的稳定时长至少要达到60％的存储服务要求时长，只有正常运行时间大于60％时才会产生正的收益期望。基于这一点，扇区故障费常数系数最低需要设置为3.51。



		- 如果区块能恢复,尽快declare fault,然后恢复区块,数据恢复完成,miner可以自动的declare recover然后提交了windowPoSt即可
		- 如果区块真的不能恢复,比如手贱remove了.或者磁盘的确损坏无法恢复,尽快执行terminate,一次性支付区块中止费用,可以少扣很多天的故障费用
		






		* 只要未能提交PoSt证明就会有故障费用的消减 br(3.51 FIP-0002从2.14调整为3.51)
		* 扇区故障费用的消减每天都会扣除直到钱包账户归零或矿工将sector从网络中移除,同时会受到一个扇区终止费的消减
		* 当矿工在WindowPoSt检查发生之前自我声明之后就不会收到后续的一次性的故障检出惩罚
		* 如果矿工自我声明,但是声明的太晚了,则依然会被做对于这个sector的消减惩罚 br(3.5) (update 数值有可能会变更)
		* 如果矿工没有自我声明,然后被区块网络检查错误,则会对整个 partition 都执行消减惩罚 br(3.5) (update数值有可能会变更)
		* 如果矿工的sector被删除的话会收到一个中止费用的消减.






#### 结束语

种种这些措施都能看出,项目方对项目的代币释放计划是经过精心设计的.	这样的设计首先从制度上约束了项目方不能不劳而获在项目没完成之前就得到大量奖励.由于代币是分批释放的,因此项目方必须把项目做好,刺激代币价格上涨,这样自己后续拿到代币时收益才能尽量高.	另外这样的释放计划也尽量防止代币在上线初期像其它很多项目那样被投资者套现抛售而导致价格承受巨大的抛压.	在这个项目中,上线初期没有任何一方手中握有大量筹码,因此市场上的代币货源稀少.

总的说来,这个项目从代币释放的机制来看项目方可谓是"用心良苦",尽量约束和平衡各方的利益,促使各方一起为项目的长远发展和生态建设努力.





















		
		
		

		
		
		
		
		
		
		
		
		
		
		
		
		
		
		


		
	

		
		
		
		
		
		
		
		
4. FileCoin矿工的经济效应 </br>
	20200924 add
	
	关于数量级的问题见下表
	
	| **倍数和分数** | **词头** | **符号** | **英文** |
	| --- | --- | --- | --- |
	| 10^24 | 尧（它） | Y | Yotta |
	| 10^21 | 泽（它） | Z | Zetta |
	| 10^18 | 艾（可萨） | E | Exa |
	| 10^15 | 拍（它） | P | Peta |
	| 10^12 | 太（拉） | T | Tera |
	| 10^9 | 吉（咖） | G | Giga |
	| 10^6 | 兆 | M | Mega |
	| 10^3 | 千 | k | kilo |
	| 10^2 | 百 | h | hecta |
	| 10^1 | 十 | da | deca |
	| 10^-1 | 分 | d | deci |
	| 10^-2 | 厘 | c | centi |
	| 10^-3 | 毫 | m | milli |
	| 10^-6 | 微 | μ | micro |
	| 10^-9 | 纳（诺） | n | nano |
	| 10^-12 | 皮（可） | p | pico |
	| 10^-15 | 飞（母托） | f | femto |
	| 10^-18 | 阿（托） | a | atto |
	| 10^-21 | 仄（普托） | z | zepto |
	| 10^-24 | 幺（科托） | y | yocto |

	统一以官方的  AMD Ryzen线程撕裂者3970x,128GB ram,使用 nvidia 2080TI显卡为基准当量, 
	这个配置每天大概可以封装setor的个数在 4-5 个左右 (32GB) , 差不多是140-150GB的总量, 
	如果使用以 AMD Epyc 7402 ,1TB  ram,8T\*2 ssd,使用 nvidia 2080TI或 nvidia 3080显卡, 
	这个配置可以提供基准当量的 12倍左右的并行运行. 可以视作每天可以有1.5-1.8TB的总密封量,

	由币的释放模型可知,存储矿工每天挖出的币总数大概是在 40万枚,基准产币未达到的情况下,只有30%的简单产币即12万枚, 虽然每个 tipsets 设置所有矿工预期赢得选票数的平均值设为 5,(泊松分布)(同时每个矿工的win count也由不同,这是可以有多份的),但目前实际都是偏小,大概在 3.5 左右(块由于网络原因丢了,或者是说孤块没有被网络接受) ,所以我们可以看到每个矿工出块的时候一个 win count的收益大概是12Fil,PS由于丢快和孤块的原因,所以你的绝对爆块率也肯定是小于你全网算力比例的.

	`(3.5 win counts) \* 2tipsets \* 60 minutes * 24hours * 12FIL ==> 120000 FIL`
	
	1. 需要特别注意的几个数据 </br>
		- 算力增长率 : 单位时间算力增长比率；
		- 爆块率 : 矿工获得出块权的比率；
		- 出块率 : 矿工获得出块权并成功出块的比率；
		- 挖矿效率 : 单位算力对应的FIL收益；

		对于一个矿工来说==算力增长率==与密封机器数量,单个扇区密封平均时间相关

		其中单个扇区密封时间与机器配置,代码效率和稳定性相关,这是由于目前官方支持单台机器多个数据密封任务的并行计算,经过证明的扇区空间需要不断的挑战验证,所以算力增长率是一个综合的衡量指标.

		爆块率 : 矿工通过有效算力获得出块权的==理论值==,只与矿工的有效算力成正比；

		出块率 : 矿工通过有效算力获得==出块权==,并成功提交算力证明(WinningPost),然后对消息进行打包才算是完成了一次出块,这个过程需要在一个区块时间(25秒)内完成.

		由于完成一次算力证明,需要数据读取与零知识证明过程(大量计算)需要保证程序的高效性和稳定性,并且要完成对链上消息的打包.这个过程需要完整准确的做完才能获得对应的收益.

		![每tipset执行出块的流程](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020924/1600923338207.png)

		![挖矿效率的本质](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020924/1600923418890.png)

		我们一直谈论的混杂了法币经济效益的数据 Fil/天\*万元 则是更加复杂的一个数据结合.它是综合了非常庞大的参数计算而成的.这不是简简单单的随口就能报出来的.需要不断的上线运行后才能总结得出.
	
	2. 期望共识的误区 </br>
		矿工通过密封数据形成有效算力,可以通过算力争夺出块权,这个过程类似于POW机制,具体的方式为 :  

		![](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020924/1600922951377.png)

		其中,h(vrfout)是不可预测随机数,totalPower是全网算力,myPower是当前矿工密封数据的算力,e=5是每个tipset预期出块数量.每个Epoch时,每个矿工可以计算上面公式看是否成立,若满足则矿工获得出块权,成功出块以后可以得到对应的收益.

		 可以看出,当矿工的算力达到全网算力的20%时,矿工一定可以获得出块权；当矿工算力小于20%时,矿工获得出块权的比率与矿工算力占全网算力比率成正比.
		 
	3. 平均区块奖励 这是错误的思路,只是销售用来量化阐述的概念 </br>
		每区块奖励 只是和释放与win count数量有大的相关性.跟你挖了多少没啥大关联

		每TB的平均挖矿收益,这一定是会下降的,但是要反过来看,自己的存力一定是要从整网算力比例去看,而不是单纯看自己的算力总额,诚然只要自己增加了算力总额总是好事,但如果增长率的斜率还追不上整网存力增长速率,也就是自己的算力份额不能保持,有非常大的滑坡,那么自己的总收益就会下降,看平均收益率仅仅是用来计算自己当前期望挖取的Fil币数目,不能展示出来你的趋势,而趋势才是更重要的.
		
	4. 质押费 和 收益额 之间微妙的关系 </br>
		由于目前的FIL流通量严重不足,绝大部分的FIL都要倍用来增加算力进行前置质押,所以前置质押的速率也抑制了总存量的增长,反过来也延缓了单位存力收益额下降的趋势.可想而知,随着比例增长维持在整个网络中一个微妙的平衡时,这个数值也相对的会进行动态平衡.
		
	5. FileCoin大矿工的历史包袱问题 </br>
		从目前看,只要是有能力拿到达标奖励的159个矿工中头部的一些,他们获得的奖励FIL是非常丰厚的.结合 SR2 AMA上官方确定的 封装的算力和质押的Fil币会进行轨道转移映射到主网.他们只要不出太大的问题,在主网后6个月代币释放完成,就算根据目前期权价格做贴现远期也是早就收回了成本.故目前对大矿工来说,他们的急只是主网上线的急,一种托底的急,并不需要长远的去寻求额外的增长点了.

		小矿工方面,由于有100,500,1000的small miner reward存在,他们只要舍得开6个月的机器,也绝对是不会大亏的,特别需要指出的是小矿工一般都是在官方确定了机器配置之后采购的,一般不会有什么太大的前期试错成本.

		较为困难的是中型,什么都是一般般的矿工,技术一般般,机器一般般,封装量一般般.所以收益也是一般般,如果还有试错历史的话,有可能就需要更长的周期来平摊成本,他们一般就没法将成本大量的转移了.
		
5. FileCoin 的区块结构 tipsets </br>
	GHOST 协议让矿工记录过去所有被观察到的区块,以增加其区块链的权重. Filecoin 的共识机制建立在这些综合之上,叫做 tipsets . 如果比特币是靠最长和最有效的链的竞赛来运作,那么 Filecoin 的期望共识就是基于选举,在指定回合中可以选举多个矿工作为领导者.这就意味着可以在每个区块中创建多个有效的同级区块,在每个新的纪元(epoch),新一代的家谱发展出来,称之为 tipset ,这也是我们网络中独特的系统.

	Filecoin 中的区块按纪元(epoch)排序,每个新的区块都引用上一个纪元(epoch)中产生的至少一个块(父块).一个tipset 集是具有相同父块且在同一个纪元(epoch)中挖到的有效区块组成.

	下图,为了简化没有将存储算力考虑在内,用不同颜色表示的3个来自相同祖父块的tipsets.让我们来计算一下这些 tipsets 的权重.

	![在同一个Epoch中3个Tipsets的示例](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020924/1600918330213.png)

	下面第一个图表中, “**祖块+父块+子块**” 给纪元2中的第一个 tipset 赋予总权重为5.

	![纪元2中的第一个tipset总权重为5](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020924/1600918422870.png)

	下面第二个tipset拥有总权重为4(一个祖块,两个父块,一个子块).

	![纪元2中第二个tipset权重为4](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020924/1600918442371.png)

	最后一个tipset(第三张表)拥有总权重为3(一个祖块,一个父块,一个子块)

	![纪元2中第三个tipset权重为3](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020924/1600918457685.png)

	最后的表提供了该链的全面视角,在纪元2里第一个tipset赢了, 尽管到下一个纪元才会被确认.

	![来自同一纪元的所有tipsets.尽管还没有到下一个纪元被确认,目前权重最大的链是第一个权重为5的tipset](https://raw.githubusercontent.com/OliverRen/olili_blog_img/master/IPFS和FileCoin的FIL币/2020924/1600918479137.png)

	与以太坊一样,该系统通过确保不浪费任何工作量来激励协作并从总体来提高链上的吞吐量.此外,由于tipset要求严格,所有的块都必须来自相同的父块,并且在相同的高度被开采,因此在分叉的情况下,该链可以实现“*快速收敛*”.

	最终, Filecoin 会赋予提供更多存储算力的区块以权重,因为它的核心是存储网络.随着时间的流逝,矿工会聚集在权重最大的链上来创造价值,而权重小的链将成为孤块.		