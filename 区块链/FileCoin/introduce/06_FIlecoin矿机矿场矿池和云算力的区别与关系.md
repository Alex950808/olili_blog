---
title: FIlecoin矿机矿场矿池和云算力的区别与关系
tags: 小书匠语法
renderNumberedHeading: true
grammar_abbr: true
grammar_table: true
grammar_defList: true
grammar_emoji: true
grammar_footnote: true
grammar_ins: true
grammar_mark: true
grammar_sub: true
grammar_sup: true
grammar_checkbox: true
grammar_mathjax: true
grammar_flow: true
grammar_sequence: true
grammar_plot: true
grammar_code: true
grammar_highlight: true
grammar_html: true
grammar_linkify: true
grammar_typographer: true
grammar_video: true
grammar_audio: true
grammar_attachment: true
grammar_mermaid: true
grammar_classy: true
grammar_cjkEmphasis: true
grammar_cjkRuby: true
grammar_center: true
grammar_align: true
grammar_tableExtra: true
---

[toc]

#### 什么是矿机

Filecoin矿机实际上就是一台专业的存储服务器，它主要由机箱、主板、电源、风扇、处理器（CPU）、内存（RAM）、显卡（GPU）、硬盘等部件组成。除了一些辅助部件外，大家最关心的还是CPU、GPU、内存和硬盘等核心部件。随着Filecoin测试网的上线，官方也公布了适用于Filecoin挖矿的基础硬件配置参数，并根据测试的情况多次调整了硬件配置要求。

本质上来说 FIlecoin矿机 依然是一台通用的服务器,如果它不被用来挖矿,依然是可以用来担任其他任务的.

在 Filecoin目录下的 mining-hardware-config 也有官方公布的推荐配置,当然随着测试和参数的调整,其实官方的配置也一直在进行修改,对广大矿工其实也只有参考意义,具体到矿工有可能采用比官方更好的配件,也有可能是轻量级的配件,最终依然是矿工的系统集群和算法优化整体能力的较量.

1. 首先说下硬盘

衡量硬盘的性能指标包括硬盘容量、硬盘速度、硬盘转速、接口、缓存、硬盘单碟容量等。因为Filecoin挖矿的本质还是做存储，从数据安全角度出发所以目前绝大多数矿机厂商采用的都是8T容量的企业级SATA机械硬盘，也有少部分矿机厂商选用的是10T或者12T的，大家基本上都是选择希捷、西部数据或东芝等几个主流品牌。 

也有部分从POC挖矿转型过来挖Filecoin的矿工从成本的角度出发会采用二手硬盘，由于Filecoin挖矿提交时空证明需要的频繁读取硬盘数据，从挖矿的安全性和稳定性上来说，使用二手硬盘存在极大的风险，如果硬盘出现坏盘或者读取速度慢的情况下，很难保障挖矿收益甚至会出现触发惩罚的情况，得不偿失。 

另外，也有部分朋友问为什么不采用固态硬盘而是机械硬盘挖矿，这主要从硬盘容量、成本以及数据安全等方面考虑。1、目前主流固态硬盘容量最大的就是500G或者1T，而机械盘的容量都在10T左右；2、固态硬盘的单T成本是机械硬盘的数倍，从挖矿的投资收益角度来说，选固态硬盘肯定是不划算的；3、由于固态硬盘是芯片级存储，如果硬盘损坏数据丢失，数据将难以恢复。如果数据丢失，会造成难以估量的损失，这也体现了机械硬盘的最大优势。 

2. CPU

高性能的CPU使矿工可以更快地处理数据并更快地生成复制证明，从而在网络上获得更多的有效存储（算力）。目前官方要求最低的CPU配置为8核。同时 AMD 7002 Eypc系列的处理器由于带有 SHA指令集比起 Intel的CPU有巨大的性能优势.

3. GPU

自从2019年11月27日,Filecoin官方技术人员 Why 宣布矿机需要GPU之后,目前主流使用的矿卡都是 2080TI 11G.新推出的 3080在CUDA上有20%的性能优势,但是在散热和外观尺寸上很难塞进传统服务器,(大多数非公版3080都是2.5slot甚至3slot的).

只有当矿工在给定的时间段内赢得块奖励的选举票时，才会在时空的选举证明（“winningPoSt”）期间运行SNARK（零知识证明）。winningPoSt 的时间要求很高，一般的CPU配置难以完成，因此，配置GPU的目的是为了压缩生成 SNARK的时间和空间。每当矿工赢得记账权时，GPU会被用来准确计算出每个周期内的PoStSNARK。生成时空证明所需的GPU算力大小在很大程度上取决于矿工在网络中的有效存储占比。

4. RAM

Filecoin挖矿在复制证明（PoRep）和时空证明（PoSt）的零知识证明（SNARK）生成过程中需要消耗大量RAM（内存），以实现高效的链上提交。目前测试网最低要求封装扇区是32G，内存要求配置是128G以上。一般来说，内存够大可保证足够的读取速度。 

#### 什么是矿场

我们所说的矿场，其实就是将几十、几百甚至几千台矿机（服务器）进行集中运维管理的一个物理空间集合。Filecoin 挖矿由于特有的抵押和惩罚机制，对于挖矿环境要求很高，原则上不允许出现断网断电的情况，否则可能触发惩罚机制，罚扣你所质押的代币，矿工得不偿失。一般自建机房的条件很难达到Filecoin挖矿的要求，所以绝大部分矿工在选择矿场上都会优先考虑IDC机房。 

主要考虑以下几点:

- 双路UPS
- 无尘恒温
- 双上联冗余网络结构
- 用电实施监控
- 消防
- 7\*24\*365

IDC的全称是Internet Data Center，也就是互联网数据中心，就是电信部门利用已有的互联网通信线路、带宽资源，建立标准化的电信专业级机房环境，为互联网内容提供商（ICP）、企业、媒体和各类网站提供大规模、高质量、安全可靠的专业化服务器托管、空间租用、网络批发带宽等业务。

IDC机房条件基本都差不多，从机房配置和内部环境基本也都差不多，主要从电力系统、空调系统、网络系统、监控系统、安保系统、消防系统等方面进行评估。各家矿机厂商在机房方面基本上不会有太大的区别，有兴趣的朋友可以在网上自行搜索关于IDC机房的资料进行了解

#### 什么是矿池

前面讲到的矿场是将几十、几百甚至几千台矿机（服务器）进行集中运维管理的一个物理空间集合；而矿池则是将几十、几百甚至几千台矿机（服务器）的计算能力进行系统集群的虚拟空间集合。 

矿池的概念最早起源于比特币挖矿。2013年4月，由王纯和毛世行（人称“神鱼”）联合创立的鱼池（F2Pool），是中国最早成型的比特币矿池。早期比特币矿工都是单打独斗打包区块，比特币每10分钟出一个区块，一个区块奖励50枚比特币，谁打包成功了就能获得50枚比特币的奖励，否则就颗粒无收。随着参与挖比特币的矿工越来越多，算力越来越大，矿工抢到区块奖励的概率越来越多，往往需要几个星期甚至几个月才能成功挖到一个区块，如果比特币挖矿参与人数庞大且分散到一定程度后，挖到比特币的概率将无限接近于零，或许投入一台矿机挖矿，按照概率，要5~10年才能挖到一个区块，这让普通人几乎没有参与的可能。

假如，目前有10万人参与比特币挖矿，全网100P算力，平均每人的算力是1T，理论上平均每10万个10分钟能挖到一个区块，也就是1.9年才能挖到一个区块拿到50个比特币，这还是在全网算力不增长的情况下的测算。随着参与挖矿的人数越来越多，算力逐渐增长，你的挖到区块奖励的概率也在逐渐稀释，并逐渐趋于为零。 

如果每1万人集合成一个矿池，各占全网10%的算力，每个矿池平均每出10个区块就可以挖到一个区块奖励，也就是每个矿工平均每100分钟就可以分到0.005枚BTC。作为矿池的一份子，矿工根据在矿池所共享的算力多少占矿池算力的份额来分配收益，收入也相对稳定。这就是矿池的基本原理，即大家抱团进行挖矿，可以参考合买彩票的模式。

Filecoin矿池的概念和比特币矿池基本一致。但是由于Filecoin挖矿的共识机制和比特币存在较大的差别，所以在矿池架构上也有较大的区别。 

目前大部分矿工主要采用两种方案搭建矿池集群，一种方案是将多台配置完整的服务器通过系统集群成一个大的服务器，将每台服务器中的CPU、GPU和内存资源集中在一起进行计算，然后再将计算出来的数据分别存储到每台服务器的硬盘中去；另一种方案是将worker（计算模块）和miner（存储模块）分离，worker负责计算数据、生成复制证明；miner负责提交时空证明进行打包挖矿。两种方案各有优劣，主要看各家矿机厂商的矿机配置方案以及集群搭建的能力。

PS:显而易见第二种方式在大集群上更好

#### 什么是云算力

有了矿池就衍生出了云算力。早在2014年12月，比特大陆创始人吴忌寒在接受采访的时候就说：“云算力会是未来挖矿的主流。”

由于Filecoin挖矿对于挖矿场所（矿场）、运维能力的要求较高，所以一般个人矿工很难进行家庭挖矿。再加上前期挖矿比拼的也是算力，个人矿工的算力规模很难与专业矿工相抗衡。而且Filecoin的整机价格相对较高，并不是所有投资者都能够承受，所以云算力成为一般散户投资者的首选。 

云算力其实可以简单理解为矿机租赁，由于Filecoin矿机（服务器）整机的价格相对较高，通过将整机的算力空间进行拆分，可以降低投资和的资金门槛和技术门槛。以FILPool矿池的云算力合约为例，1T起购，最低只需要一千多元就可以参与Filecoin挖矿，而且挖矿过程中无需承担繁杂的矿场运维工作。

采购矿机进行托管挖矿和购买云算力挖矿的区别有点类似于买房和租房的区别。买矿机，你拥有矿机的所有权，然后将采购的矿机托管给专业的矿场进行托管挖矿，按时交纳托管费（矿机运营所需的机柜租赁费、电费、带宽费等费用），按照你所托管矿机的算力空间占矿池总算力空间的份额按比例进行收益分配，矿场再按一定比例收取技术服务费。而买云算力就是租赁矿场自由设备的算力空间，云算力费用已包含租赁期内所有费用，一键挖矿，只需等待矿池每日发放收益即可，省心省力。在挖矿效率上，两者其实是一样的。