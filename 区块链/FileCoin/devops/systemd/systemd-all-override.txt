[Service]
# compile 
Environment="RUSTFLAGS=-C target-cpu=native -g"
Environment="FFI_BUILD_FROM_SOURCE=1"

# ipfs gateway
Environment="IPFS_GATEWAY=https://proof-parameters.s3.cn-south-1.jdcloud-oss.com/ipfs/"

# lotus daemon
Environment="LOTUS_PATH=/filecoin/.lotus"
Environment="FULLNODE_API_INFO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBbGxvdyI6WyJyZWFkIiwid3JpdGUiLCJzaWduIiwiYWRtaW4iXX0.RuiSz8sihG8Uqs6J6e56FkMj6Laq48Dg-A7fdJB2_2k:/ip4/127.0.0.1/tcp/1234/http"

# lotus miner
Environment="LOTUS_MINER_PATH=/filecoin/lotusminer"
# lotus miner api info
Environment="MINER_API_INFO=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBbGxvdyI6WyJyZWFkIiwid3JpdGUiLCJzaWduIiwiYWRtaW4iXX0.Ip0_ycgIY2h9Nsx5id7OqmiJXmXA6RR0-MkYe4ESBLA:/ip4/127.0.0.1/tcp/2345/http"

# lotus worker
Environment="LOTUS_WORKER_PATH=/filecoin/lotusworker/cpu-3"

# tmp dir
Environment="TMPDIR=/filecoin/seal-TMP/cpu-3"

# cpu & gpu available
Environment="BELLMAN_CPU_UTILIZATION=0.875"
Environment="FIL_PROOFS_MAXIMIZE_CACHING=1"
Environment="BELLMAN_CUSTOM_GPU=GeForce RTX 3080:8704"
Environment="FIL_PROOFS_USE_GPU_COLUMN_BUILDER=1"
Environment="FIL_PROOFS_USE_GPU_TREE_BUILDER=1"

# seal parameter
Environment="FIL_PROOFS_PARAMETER_CACHE=/filecoin/filecoin-proof-parameters"
Environment="FIL_PROOFS_PARENT_CACHE=/filecoin/filecoin-parents"

# use multi cpu core to reduce memory cost
Environment="FIL_PROOFS_USE_MULTICORE_SDR=1"
CPUAffinity=